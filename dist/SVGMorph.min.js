!function(){if("performance"in window==!1&&(window.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in window.performance==!1){var n=window.performance.timing&&window.performance.timing.navigationStart?window.performance.timing.navigationStart:Date.now();window.performance.now=function(){return Date.now()-n}}}();var MORPH=function(){var n=[];return{add:function(r){n.push(r)},update:function(r){if(0===n.length)return!1;var e=0,o=n.length;for(r=void 0!==r?r:window.performance.now();o>e;)n[e].update(r)?e++:(n.splice(e,1),o--);return!0},draw:function(r){for(var e=0,o=n.length;o>e;){var a=n[e++];a.draw(r)}},clear:function(){n=[]}}}();MORPH.MorphablePath=function(n){return{morphableGroups:n}},MORPH.createMorphablePath=function(n,r){for(var e=[],o=n.length,a=r.length,t=Math.min(o,a),i=0,u=0,w=0;t>w;w++){var p=[],f=[];if(a>o)for(i=w,p.push(n[i]);w+1>u*(o/a)&&a>u;)f.push(r[u]),u++;else for(u=w,f.push(r[u]);w+1>i*(a/o)&&o>i;)p.push(n[i]),i++;p.length!==f.length?e.push(new MORPH.MorphableGroup(p,f)):e.push(new MORPH.MorphableGroupParallel(p,f))}return new MORPH.MorphablePath(e)};
MORPH.Morph=function(t,h){h=h||{},this._paths=t,this._current=0,this._morphablePathCollection=[],this._ratio=0,this._startTime,this._duration=h.duration||1e3,this._delayTime=0,this._looping=h.looping||!1,this._numPaths=this._looping?this._paths.length+1:this._paths.length,this._completeCallback=h.onComplete,this._x=0,this._y=0,this.reset()},MORPH.Morph.prototype={reset:function(){var t=0;if(this._numPaths>1)for(this._morphablePathCollection=[];this._morphablePathCollection.length<this._numPaths-1;){var h=MORPH.createMorphablePath(this._paths[t].getSegments(),this._paths[(t+1)%this._paths.length].getSegments());this._morphablePathCollection.push(h),t++}else this._morphablePathCollection.push(this._paths[0])},start:function(t){return this._startTime=void 0!==t?t:window.performance.now(),this._startTime+=this._delayTime,MORPH.add(this),this},update:function(t){var h,i=0,e=Math.max(0,Math.min(1,(t-this._startTime)/this._duration));return(h=this.setRatio(e))?(null!=this._completeCallback&&this._completeCallback(),this._looping?(this._startTime=void 0!==t?t:window.performance.now(),this._current=0,this._ratio=0,!0):!1):(this._current=i,!0)},getCurrentPath:function(){return this._paths[this._paths.length-1]},setRatio:function(t){return this._ratio=t,this._numPaths>1?(index=Math.floor(this._ratio*(this._numPaths-1)),index>=this._numPaths-1):this._ratio>=1},getCurrentRatio:function(){var t=this._ratio*(this._numPaths-1)-this._current;return t},getCurrentMorphablePath:function(){return this._current<this._morphablePathCollection.length?this._morphablePathCollection[this._current]:void console.log("Error : something wrong here!")},getShape:function(){if(this._numPaths>1)return this.currentShape();var t=this._paths[0];return new MORPH.Shape(t.getSegments())},currentShape:function(){for(var t=this.getCurrentMorphablePath().morphableGroups,h=this.getCurrentRatio(),i=t.length,e=[],s=0;i>s;s++){var n=t[s],r=n.interpolate(h);e=e.concat(r)}return new MORPH.Shape(e)},onComplete:function(t){return this._onCompleteCallback=t,this},setScale:function(t){return this._paths.forEach(function(h){h.setScale(t)}),this.reset(),this},getWidth:function(){for(var t=0,h=0;h<this._paths.length;h++)this._paths[h].width()>t&&(t=this._paths[h].width());return t},getHeight:function(){for(var t=0,h=0;h<this._paths.length;h++)this._paths[h].height()>t&&(t=this._paths[h].height());return t},translate:function(t,h){return this._x=t,this._y=h,this._paths.forEach(function(i){i.translate(t,h)}),this.reset(),this},setOrigin:function(t,h){var i=this._x-t,e=this._y-h;return this._paths.forEach(function(t){t.translate(i,e)}),this.reset(),this}};
MORPH.Shape=function(t){this.segmentCollection=t||[]},MORPH.Shape.prototype={translate:function(t,n){this.segmentCollection.forEach(function(e){e.translate(t,n)})},scale:function(t){this.segmentCollection.forEach(function(n){n.scale(t)})}};
MORPH.Segment=function(t,i,n,s){this.pt1=null!==t?t.clone():new MORPH.GEOM.Point,this.pt2=null!==n?n.clone():new MORPH.GEOM.Point,this.ctrl2=s||this.pt2.clone(),this.ctrl1=i||this.pt1.clone()},MORPH.Segment.prototype={interpolate:function(){},draw:function(t){t.bezier(this.pt1.x,this.pt1.y,this.ctrl1.x,this.ctrl1.y,this.ctrl2.x,this.ctrl2.y,this.pt2.x,this.pt2.y)},translate:function(t,i){this.pt1.translate(t,i),this.pt2.translate(t,i),this.ctrl1.translate(t,i),this.ctrl2.translate(t,i)},scale:function(t,i){var i=i||new MORPH.GEOM.Point(0,0),n=new MORPH.GEOM.Vector((this.ctrl1.x-this.pt1.x)*t,(this.ctrl1.y-this.pt1.y)*t),s=new MORPH.GEOM.Point((this.ctrl2.x-this.pt2.x)*t,(this.ctrl2.y-this.pt2.y)*t);this.pt1.x*=t,this.pt1.y*=t,this.pt2.x*=t,this.pt2.y*=t,this.ctrl1=new MORPH.GEOM.Point(this.pt1.x+n.x,this.pt1.y+n.y),this.ctrl2=new MORPH.GEOM.Point(this.pt2.x+s.x,this.pt2.y+s.y)},isCurve:function(){return!pt1.equals(ctrl1)&&!pt2.equals(ctrl2)},clone:function(){return new MORPH.Segment(this.pt1.clone(),this.ctrl1.clone(),this.pt2.clone(),this.ctrl2.clone())}};
MORPH.MorphSegment=function(t,e){this.origSeg=t,this.destSeg=e,this.ctrlV1=new MORPH.GEOM.Vector(this.destSeg.ctrl1.x-this.origSeg.ctrl1.x,this.destSeg.ctrl1.y-this.origSeg.ctrl1.y),this.ctrlV2=new MORPH.GEOM.Vector(this.destSeg.ctrl2.x-this.origSeg.ctrl2.x,this.destSeg.ctrl2.y-this.origSeg.ctrl2.y),this.interpolate=function(t){var e=this.origSeg.pt1.Interpolate(this.destSeg.pt1,t),i=this.origSeg.pt2.Interpolate(this.destSeg.pt2,t),r=this.ctrlV1.Interpolate(t),g=new MORPH.GEOM.Point(r.x+this.origSeg.ctrl1.x,r.y+this.origSeg.ctrl1.y);r=this.ctrlV2.Interpolate(t);var s=new MORPH.GEOM.Point(r.x+this.origSeg.ctrl2.x,r.y+this.origSeg.ctrl2.y);return new MORPH.Segment(e,g,i,s)}};
MORPH.MorphableGroup=function(){var t=function(t,e){this._origSegs=t||[],this._destSegs=e||[],this._heteromorphic=t.length!=e.length,this._maxLength=Math.max(this._origSegs.length,this._destSegs.length),this._segs,this._startSegs,this._endSegs,this._interSeg,this.init()};return t.prototype={init:function(){this._destSegs.length>1?this._interSeg=new MORPH.Segment(this._origSegs[0].pt1.Interpolate(this._destSegs[0].pt1,.5),null,this._origSegs[this._origSegs.length-1].pt2.Interpolate(this._destSegs[this._destSegs.length-1].pt2,.5),null):this._interSeg=this._destSegs[0].clone(),this._segs=this._startSegs=this.defineStartInterSegs()},defineStartInterSegs:function(){var t,e,s,i=[];s=this._interSeg.pt1;for(var n=0;n<this._origSegs.length;){t=(n+1)/this._origSegs.length,e=s.clone(),s=this._interSeg.pt1.Interpolate(this._interSeg.pt2,t);var h=new MORPH.Segment(e,null,s,null);i.push(new MORPH.MorphSegment(this._origSegs[n],h)),n++}return i},defineEndInterSegs:function(){var t,e,s,i=[];s=this._interSeg.pt1;for(var n=0;n<this._destSegs.length;){t=(n+1)/this._destSegs.length,e=s.clone(),s=this._interSeg.pt1.Interpolate(this._interSeg.pt2,t);var h=new MORPH.Segment(e,null,s,null);i.push(new MORPH.MorphSegment(h,this._destSegs[n])),n++}return i},interpolateHetero:function(t){return t>=.5?(this._endSegs||(this._endSegs=this.defineEndInterSegs(this._interSeg.pt1,this._destSegs)),this._segs=this._endSegs):this._segs=this._startSegs,.5>t?t/.5:(t-.5)/.5},translate:function(t,e){function s(t,e,s){for(var i=0,i=0;i<t.length;i++)t[i].translate(e,s)}s(this._origSegs,t,e),this._destSegs&&s(this._destSegs,t,e),this.init()},interpolate:function(t){var e=[];this._heteromorphic&&this._destSegs.length>1&&(t=this.interpolateHetero(t));for(var s=0;s<this._segs.length;s++)e.push(this._segs[s].interpolate(t));return e}},t}();
MORPH.MorphableGroupParallel=function(){var t=function(){MORPH.MorphableGroup.apply(this,arguments)};return t.prototype=Object.create(MORPH.MorphableGroup.prototype),t.constructor=MORPH.MorphableGroup,t.prototype.init=function(){if(this._segs=[],this._destSegs)for(var t=0;t<this._maxLength;t++)this._segs.push(new MORPH.MorphSegment(this._origSegs[t],this._destSegs[t]));else this._segs=this._origSegs},t}();
MORPH.Path=function(t){this.name=t.name||"",this.id=t.id||"",this._segs=[],this._points=[],this._rect;var e=t.d,n=new MORPH.BoundingBox,r=this,a=function(t,e){var n=new MORPH.GEOM.Point(t,e);M()||o(c(),n),r._points.push(n)},s=function(t,e,n){var a=c();i(a,t,n,e),r._points.push(n)},o=function(t,e){r._segs.push(new MORPH.Segment(t,t,e,e))},i=function(t,e,n,a){r._segs.push(new MORPH.Segment(t,e,n,a))},c=function(){return r._points[r._points.length-1].clone()},M=function(){return 0==r._points.length};e=e.replace(/,/gm," "),e=e.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),e=e.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),e=e.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2"),e=e.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),e=e.replace(/([0-9])([+\-])/gm,"$1 $2"),e=e.replace(/(\.[0-9]*)(\.)/gm,"$1 $2"),e=e.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),e=e.replace(/[\s\r\t\n]+/gm," "),e=e.replace(/^\s+|\s+$/g,"");var h=new MORPH.PATH.PathParser(e);for(h.reset();!h.isEnd();)switch(h.nextCommand(),h.command){case"M":case"m":var d=h.getAsCurrentPoint();for(h.addMarker(d),a(d.x,d.y),n.addPoint(d.x,d.y),h.start=h.current;!h.isCommandOrEnd();){var d=h.getAsCurrentPoint();h.addMarker(d,h.start),a(d.x,d.y),n.addPoint(d.x,d.y)}break;case"L":case"l":for(;!h.isCommandOrEnd();){var P=h.current,d=h.getAsCurrentPoint();h.addMarker(d,P),a(d.x,d.y),n.addPoint(d.x,d.y)}break;case"H":case"h":for(;!h.isCommandOrEnd();){var u=new MORPH.GEOM.Point((h.isRelativeCommand()?h.current.x:0)+h.getScalar(),h.current.y);h.addMarker(u,h.current),h.current=u,a(u.x,u.y),n.addPoint(h.current.x,h.current.y)}break;case"V":case"v":for(;!h.isCommandOrEnd();){var u=new MORPH.GEOM.Point(h.current.x,(h.isRelativeCommand()?h.current.y:0)+h.getScalar());h.addMarker(u,h.current),h.current=u,a(u.x,u.y),n.addPoint(h.current.x,h.current.y)}break;case"C":case"c":for(;!h.isCommandOrEnd();){var x=h.current,y=h.getPoint(),g=h.getAsControlPoint(),O=h.getAsCurrentPoint();h.addMarker(O,g,y),s(new MORPH.GEOM.Point(y.x,y.y),new MORPH.GEOM.Point(g.x,g.y),new MORPH.GEOM.Point(O.x,O.y)),n.addBezierCurve(x.x,x.y,y.x,y.y,g.x,g.y,O.x,O.y)}break;case"S":case"s":for(;!h.isCommandOrEnd();){var x=h.current,y=h.getReflectedControlPoint(),g=h.getAsControlPoint(),O=h.getAsCurrentPoint();h.addMarker(O,g,y),s(new MORPH.GEOM.Point(y.x,y.y),new MORPH.GEOM.Point(g.x,g.y),new MORPH.GEOM.Point(O.x,O.y)),n.addBezierCurve(x.x,x.y,y.x,y.y,g.x,g.y,O.x,O.y)}break;case"Q":case"q":for(;!h.isCommandOrEnd();){var x=h.current,g=h.getAsControlPoint(),O=h.getAsCurrentPoint();h.addMarker(O,g,g),s(new MORPH.GEOM.Point(y.x,y.y),new MORPH.GEOM.Point(g.x,g.y),new MORPH.GEOM.Point(O.x,O.y)),n.addQuadraticCurve(x.x,x.y,g.x,g.y,O.x,O.y)}break;case"T":case"t":for(;!h.isCommandOrEnd();){var x=h.current,g=h.getReflectedControlPoint();h.control=g;var O=h.getAsCurrentPoint();h.addMarker(O,g,g),s(new MORPH.GEOM.Point(y.x,y.y),new MORPH.GEOM.Point(g.x,g.y),new MORPH.GEOM.Point(O.x,O.y)),n.addQuadraticCurve(x.x,x.y,g.x,g.y,O.x,O.y)}break;case"A":case"a":for(;!h.isCommandOrEnd();){var x=h.current,l=h.getScalar(),m=h.getScalar(),w=h.getScalar()*(Math.PI/180),p=h.getScalar(),v=h.getScalar(),O=h.getAsCurrentPoint(),C=new MORPH.GEOM.Point(Math.cos(w)*(x.x-O.x)/2+Math.sin(w)*(x.y-O.y)/2,-Math.sin(w)*(x.x-O.x)/2+Math.cos(w)*(x.y-O.y)/2),H=Math.pow(C.x,2)/Math.pow(l,2)+Math.pow(C.y,2)/Math.pow(m,2);H>1&&(l*=Math.sqrt(H),m*=Math.sqrt(H));var R=(p==v?-1:1)*Math.sqrt((Math.pow(l,2)*Math.pow(m,2)-Math.pow(l,2)*Math.pow(C.y,2)-Math.pow(m,2)*Math.pow(C.x,2))/(Math.pow(l,2)*Math.pow(C.y,2)+Math.pow(m,2)*Math.pow(C.x,2)));isNaN(R)&&(R=0);var f=new MORPH.GEOM.Point(R*l*C.y/m,R*-m*C.x/l),E=new MORPH.GEOM.Point((x.x+O.x)/2+Math.cos(w)*f.x-Math.sin(w)*f.y,(x.y+O.y)/2+Math.sin(w)*f.x+Math.cos(w)*f.y),_=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))},A=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(_(t)*_(e))},k=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(A(t,e))},G=k([1,0],[(C.x-f.x)/l,(C.y-f.y)/m]),S=[(C.x-f.x)/l,(C.y-f.y)/m],$=[(-C.x-f.x)/l,(-C.y-f.y)/m],q=k(S,$);A(S,$)<=-1&&(q=Math.PI),A(S,$)>=1&&(q=0),0==v&&q>0&&(q-=2*Math.PI),1==v&&0>q&&(q+=2*Math.PI);var b=new MORPH.GEOM.Point(E.x+l*Math.cos((G+(G+q))/2),E.y+m*Math.sin((G+(G+q))/2));h.addMarkerAngle(b,(G+(G+q))/2+(0==v?-1:1)*Math.PI/2),h.addMarkerAngle(O,G+q+(0==v?-1:1)*Math.PI/2),this.addPoint(b.x,b.y),this.addPoint(O.x,O.y),n.addPoint(O.x,O.y)}break;case"Z":case"z":h.current=h.start,this.addPoint(h.start.x,h.start.y)}},MORPH.Path.prototype={clone:function(){var t=new MORPH.Path({d:_d});return t.setRectangle(this._rect.clone()),t.name=this.name,t},translate:function(t,e){for(var n=0;n<this._segs.length;n++){var r=this._segs[n];r.translate(t,e)}this._rect.translate(t,e)},setScale:function(t){for(var e=0;e<this._segs.length;e++){var n=this._segs[e];n.scale(t,new MORPH.GEOM.Point(0,0))}this._rect.scale(t)},setRectangle:function(t){this._rect=t},width:function(){return this._rect.width()},height:function(){return this._rect.height()},getSegments:function(){for(var t=[],e=0;e<this._segs.length;e++)t.push(this._segs[e].clone());return t}};
MORPH.BoundingBox=function(i,t,h,s){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN,this.addPoint(i,t),this.addPoint(h,s)},MORPH.BoundingBox.prototype={scale:function(i){this.x2=this.x1+this.width()*i,this.y2=this.y1+this.height()*i},getX:function(){return this.x1},getY:function(){return this.y1},getWidth:function(){return this.x2-this.x1},getHeight:function(){return this.y2-this.y1},addPoint:function(i,t){null!=i&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=i,this.x2=i),i<this.x1&&(this.x1=i),i>this.x2&&(this.x2=i)),null!=t&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))},addX:function(i){this.addPoint(i,null)},addY:function(i){this.addPoint(null,i)},addBoundingBox:function(i){this.addPoint(i.x1,i.y1),this.addPoint(i.x2,i.y2)},addQuadraticCurve:function(i,t,h,s,n,d){var a=i+2/3*(h-i),o=t+2/3*(s-t),u=a+1/3*(n-i),r=o+1/3*(d-t);this.addBezierCurve(i,t,a,u,o,r,n,d)},addBezierCurve:function(t,h,s,n,d,a,o,u){var r=[t,h],e=[s,n],x=[d,a],y=[o,u];for(this.addPoint(r[0],r[1]),this.addPoint(y[0],y[1]),i=0;i<=1;i++){var N=function(t){return Math.pow(1-t,3)*r[i]+3*Math.pow(1-t,2)*t*e[i]+3*(1-t)*Math.pow(t,2)*x[i]+Math.pow(t,3)*y[i]},f=6*r[i]-12*e[i]+6*x[i],c=-3*r[i]+9*e[i]-9*x[i]+3*y[i],P=3*e[i]-3*r[i];if(0!=c){var l=Math.pow(f,2)-4*P*c;if(!(0>l)){var v=(-f+Math.sqrt(l))/(2*c);v>0&&1>v&&(0==i&&this.addX(N(v)),1==i&&this.addY(N(v)));var g=(-f-Math.sqrt(l))/(2*c);g>0&&1>g&&(0==i&&this.addX(N(g)),1==i&&this.addY(N(g)))}}else{if(0==f)continue;var B=-P/f;B>0&&1>B&&(0==i&&this.addX(N(B)),1==i&&this.addY(N(B)))}}},isPointInBox:function(i,t){return this.x1<=i&&i<=this.x2&&this.y1<=t&&t<=this.y2}};
MORPH.SVG={getBoundingBox:function(t){var e=t.getElementsByTagName("svg")[0],n=e.attributes,s=MORPH.SVG.getNodeValue(n,"x"),i=MORPH.SVG.getNodeValue(n,"y"),r=MORPH.SVG.getNodeValue(n,"width")||100,a=MORPH.SVG.getNodeValue(n,"height")||100;return new MORPH.GEOM.Rectangle(s,i,r,a)},getNodeValue:function(t,e){return t[e]?parseInt(t[e].nodeValue):null},getPathStrings:function(t){var e,n=[],s=t.getElementsByTagName("path");for(e=0;e<s.length;e++)n.push(s[e].getAttribute("d"));var i=t.getElementsByTagName("line");for(e=0;e<i.length;e++){var r=i[e].getAttribute("x1"),a=i[e].getAttribute("x2"),h=i[e].getAttribute("y1"),o=i[e].getAttribute("y2");n.push("M"+r+" "+h+" L"+a+" "+o)}var l=t.getElementsByTagName("polyline");for(e=0;e<l.length;e++){var u=l[e].getAttribute("points");u=u.replace(/\s\s+/g," "),u=u.split(" ");for(var g=u.shift().split(","),c=parseFloat(g[0]),m=parseFloat(g[1]),f="M"+c+" "+m+" ";u.length;)g=u.shift().split(","),g.length&&(c=parseFloat(g[0]),m=parseFloat(g[1]),f+="L "+c+" "+m+" ");f=f.substr(0,f.length-2),n.push(f)}for(var p=t.getElementsByTagName("rect"),e=0;e<p.length;e++){var d=p[e],c=parseFloat(d.getAttribute("x")),m=parseFloat(d.getAttribute("y")),P=parseFloat(d.getAttribute("width")),M=parseFloat(d.getAttribute("height")),f="M"+c+" "+m;f+="L"+(c+P)+" "+m+" ",f+="L"+(c+P)+" "+(m+M)+" ",f+="L"+c+" "+(m+M)+" ",f+="L"+c+" "+m,n.push(f)}return n}},MORPH.PATH={PathParser:function(t){var e=t||"";this.tokens=e.split(" "),this.reset=function(){this.i=-1,this.command="",this.previousCommand="",this.start=new MORPH.GEOM.Point(0,0),this.control=new MORPH.GEOM.Point(0,0),this.current=new MORPH.GEOM.Point(0,0),this.points=[],this.angles=[]},this.isEnd=function(){return this.i>=this.tokens.length-1},this.isCommandOrEnd=function(){return this.isEnd()?!0:null!=this.tokens[this.i+1].match(/^[A-Za-z]$/)},this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0}return!1},this.getToken=function(){return this.i++,this.tokens[this.i]},this.getScalar=function(){return parseFloat(this.getToken())},this.nextCommand=function(){this.previousCommand=this.command,this.command=this.getToken()},this.getPoint=function(){var t=new MORPH.GEOM.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(t)},this.getAsControlPoint=function(){var t=this.getPoint();return this.control=t,t},this.getAsCurrentPoint=function(){var t=this.getPoint();return this.current=t,t},this.getReflectedControlPoint=function(){return"c"!=this.previousCommand.toLowerCase()&&"s"!=this.previousCommand.toLowerCase()?this.current:new MORPH.GEOM.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y)},this.makeAbsolute=function(t){return this.isRelativeCommand()&&(t.x+=this.current.x,t.y+=this.current.y),t},this.addMarker=function(t,e,n){null!=n&&this.angles.length>0&&null==this.angles[this.angles.length-1]&&(this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(n)),this.addMarkerAngle(t,null==e?null:e.angleTo(t))},this.addMarkerAngle=function(t,e){this.points.push(t),this.angles.push(e)},this.getMarkerPoints=function(){return this.points},this.getMarkerAngles=function(){for(var t=0;t<this.angles.length;t++)if(null==this.angles[t])for(var e=t+1;e<this.angles.length;e++)if(null!=this.angles[e]){this.angles[t]=this.angles[e];break}return this.angles}},ClonePaths:function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e}};
MORPH.GEOM={Rectangle:function(t,i,h,n){this.x1=t,this.y1=i,this.w=h,this.h=n,this.width=function(){return this.w},this.height=function(){return this.h},this.scale=function(t){this.w=this.w*t,this.h=this.h*t},this.translate=function(t,i){this.x1+=t,this.y1+=i},this.clone=function(){return new MORPH.GEOM.Rectangle(this.x1,this.y1,this.w,this.h)}},Point:function(t,i){this.x=t||0,this.y=i||0,this.draw=function(t){t.ellipse(this.x,this.y,10,10)},this.clone=function(){var t=this.x,i=this.y;return new MORPH.GEOM.Point(t,i)},this.equals=function(t){return this.x==t.x&&this.y==t.y},this.trace=function(){return"{"+this.x+","+this.y+"}"},this.applyTransform=function(t){var i=this.x*t[0]+this.y*t[2]+t[4],h=this.x*t[1]+this.y*t[3]+t[5];this.x=i,this.y=h},this.angleTo=function(t){return Math.atan2(t.y-this.y,t.x-this.x)},this.Interpolate=function(t,i){var h=this.x+(t.x-this.x)*i,n=this.y+(t.y-this.y)*i;return new MORPH.GEOM.Point(h,n)},this.translate=function(t,i){var h=this.x+t,n=this.y+i;this.x=h,this.y=n}},RandomPoint:function(t,i){var h=Math.random()*t,n=Math.random()*i;return new MORPH.GEOM.Point(h,n)},Vector:function(t,i){this.x=t||0,this.y=i||0,this.Interpolate=function(t){return new MORPH.GEOM.Vector(this.x*t,this.y*t)}}};
MORPH.LoadShapes=function(n){n.constructor!==Array&&(n=[n]);var t=n.map(function(n){return MORPH.LoadShape(n)});return Promise.all(t)},MORPH.LoadShape=function(n){return MORPH.LoadSVG(n).then(function(n){return new Promise(function(t,e){for(var r=[],a=MORPH.SVG.getBoundingBox(n[0]),o=0;o<n.length;o++)for(var u=n[o].getElementsByTagName("svg")[0],i=u.getAttribute("id"),s=MORPH.SVG.getPathStrings(n[o]),c=0;c<s.length;c++){var f=new MORPH.Path({id:i+"_"+c,d:s[c]});f.setRectangle(a.clone()),r.push(f)}t(r)})})},MORPH.LoadSVG=function(n){return new Promise(function(t,e){function r(e){o.push(e),n.length?a(n.shift()):t(o)}function a(n){var t=new XMLHttpRequest;t.onreadystatechange=function(){4==t.readyState&&200==t.status&&r(t.responseXML)},t.open("GET",n,!0),t.send()}var o=[];a(n.shift())})};
MORPH.CanvasUtils={CreateBuffer:function(){var t=document.createElement("canvas"),i=t.getContext("2d");return{canvas:t,ctx:i,width:-1,height:-1,invalidated:!1,resize:function(t,i){return t&&i&&(t=Math.floor(t),i=Math.floor(i),this.width!==t||this.height!==i)?(this.canvas.width=t,this.canvas.height=i,this.width=t,this.height=i,!0):!1},clear:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)},fill:function(t){this.ctx.fillStyle=t,this.ctx.fillRect(0,0,this.width,this.height)},getPixelRatio:function(){var t=window.devicePixelRatio||1,i=this.ctx.webkitBackingStorePixelRatio||this.ctx.mozBackingStorePixelRatio||this.ctx.msBackingStorePixelRatio||this.ctx.oBackingStorePixelRatio||this.ctx.backingStorePixelRatio||1,e=t/i;return e}}}};
var MorphDrawer=function(r,t,h){function e(r){return r=Math.min(s.length-1,r),s[r]}this.shapeArr=new Array;var a=r,n=h||1,s=t||[new Color(0,0,0)];this.addShape=function(r){this.shapeArr.length>=a&&this.shapeArr.pop(),this.shapeArr.unshift(r)},this.draw=function(r){for(var t,h,s,i=this.shapeArr.length,o=0;i>o;o++){t=o/a,r.strokeWeight(n),s=e(o),r.stroke(s.r,s.g,s.b,s.a),h=this.shapeArr[o];for(var p=0;p<h.length;p++){var f=h.segmentCollection[p];f.draw(r)}}}};